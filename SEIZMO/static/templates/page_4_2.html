{% block content %}

{% if message %}
    <script type="text/javascript" language="JavaScript">
       alert("{{ message }}");
    </script>
{% endif %}

<style>
/* âœ… ì¸ì‡„ìš© ìŠ¤íƒ€ì¼ (ì„¸ë¡œ ìŠ¤íŠ¸ë¦½ + í”„ë ˆì„ ë°°ê²½) */
@media print {
   @page {
      size: 100mm 148mm; /* ì—½ì„œ ì‚¬ì´ì¦ˆ */
      margin: 0;
   }
   html, body {
      height: 148mm !important; width: 100mm !important;
      margin: 0 !important; padding: 0 !important;
      background: #fff !important; overflow: hidden !important;
   }
   body {
      visibility: hidden !important;
      display: flex !important;
      justify-content: center !important;
      align-items: center !important;
   }
   .print_area, .print_area * {
      visibility: visible !important;
   }

   /* ğŸŒŸ ì¸ì‡„ ì˜ì—­ (ì„¸ë¡œ ìŠ¤íŠ¸ë¦½) ğŸŒŸ */
   .print_area {
      position: static !important;
      transform: none !important;

      /* ğŸŒŸ ìŠ¤íŠ¸ë¦½ í¬ê¸° ì„¤ì • (í”„ë ˆì„ ì´ë¯¸ì§€ ë¹„ìœ¨ì— ë§ì¶° ì¡°ì ˆ) */
      width: 55mm !important;
      height: 148mm !important; /* ìš©ì§€ ë†’ì´ì— ê½‰ ì°¨ê²Œ */

      /* ğŸ–¼ï¸ í”„ë ˆì„ ë°°ê²½ ì„¤ì • */
      background-image: url('{{ url_for("static", filename="assets/frame.jpg") }}') !important;
      background-size: 100% 100% !important;
      background-repeat: no-repeat !important;

      /* ğŸŒŸ ë‚´ë¶€ ì—¬ë°± ì„¤ì • (ì‚¬ì§„ì´ í”„ë ˆì„ ì•ˆì— ë“¤ì–´ê°€ë„ë¡) */
      /* ìƒë‹¨ 5mm, ì¢Œìš° 3mm, í•˜ë‹¨ 20mm(ë¡œê³  ê³µê°„ í™•ë³´) */
      padding: 5mm 3mm 20mm 3mm !important;

      display: flex !important;
      flex-direction: column !important;
      justify-content: space-between !important;
      align-items: center !important;
      gap: 2mm !important; /* ì‚¬ì§„ ì‚¬ì´ ê°„ê²© */
      box-sizing: border-box !important;
      margin: auto !important;
   }

   .image-slot {
      width: 100% !important;
      /* 3:2 ë¹„ìœ¨ ìœ ì§€ */
      aspect-ratio: 3 / 2 !important;
      overflow: hidden !important;
      background-color: transparent !important;
   }

   .print_area .image-slot img {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
   }

   .print-preview-area, .print-button-container, .no-print {
       display: none !important;
   }
}

/* âœ… í™”ë©´ í‘œì‹œìš© ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
html, body { height: 100%; margin: 0; padding: 0; box-sizing: border-box; }
body { background-image: url('static/assets/6.png'); background-repeat: no-repeat; background-size: contain; background-position: center center; background-color: #ffffff; overflow: hidden; display: flex; justify-content: center; align-items: center; position: relative; width: 100vw; height: 90vh; }
.print_area { width: min(80vw, 300px); aspect-ratio: 2 / 3; display: flex; flex-direction: column; justify-content: space-between; align-items: center; background: #fff; padding: 3%; box-shadow: 0 0 0px rgba(0,0,0,0.1); box-sizing: border-box; }
.image-slot { width: 100%; aspect-ratio: 3 / 2; border-radius: 8px; background-color: #eee; overflow: hidden; }
.print_area .image-slot img { width: 100%; height: 100%; object-fit: cover; object-position: center; cursor: pointer; }
.print-button-area { position: fixed; bottom: 5vh; left: 50%; transform: translateX(-50%); width: 30vw; max-width: 150px; height: 8vh; cursor: pointer; z-index: 20; }
.button-link-area { display: block; width: 100%; height: 100%; }

.home-button-container {
    position: fixed;
    top: 3vh;
    right: 3vw;
    z-index: 30;
}
.home-button {
    padding: 10px 20px;
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    text-decoration: none;
    border-radius: 30px;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    justify-content: center;
}
</style>

<body>
    <div class="home-button-container no_print">
       <a href="{{ url_for('index') }}" class="home-button">ğŸ  ì²˜ìŒìœ¼ë¡œ</a>
   </div>
   <div class="print_area">
      <div class="image-slot"><img src="{{ select1 }}"></div>
      <div class="image-slot"><img src="{{ select2 }}"></div>
      <div class="image-slot"><img src="{{ select3 }}"></div>
      <div class="image-slot"><img src="{{ select4 }}"></div>
   </div>

   <a href="javascript:void(0);" onclick="printAndGoHome();" class="print-button-area no_print">
      <span style="visibility: hidden;">ì¸ì‡„í•˜ê¸°</span>
   </a>

   <script>
      function printAndGoHome() {
         window.print();
      }
   </script>
</body>

{% endblock %}